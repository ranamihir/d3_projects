function visualize_roc_curve(t){var a={top:0,right:.2*window.innerHeight,bottom:0,left:.2*window.innerHeight},e=.6*window.innerHeight,r=.6*window.innerHeight,n=d3.scale.linear().domain([0,d3.max(t,function(t){return t[0]})]).range([0,e]),s=d3.scale.linear().domain([0,d3.max(t,function(t){return t[1]})]).range([r,0]),i=d3.select("body").append("svg:svg").attr("width",e+a.right+a.left).attr("height",r+a.top+a.bottom).attr("class","chart"),o=i.append("g").attr("width",e).attr("height",r).attr("class","main"),l=d3.svg.axis().scale(n).orient("bottom");o.append("g").attr("transform","translate(0,"+r+")").attr("class","main axis dark").call(l);var d=d3.svg.axis().scale(s).orient("left");o.append("g").attr("transform","translate(0,0)").attr("class","main axis dark").call(d);var c=o.append("svg:g"),p=Math.max(50,.07*window.innerHeight),h=Math.max(60,.045*window.innerWidth),g=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);c.append("text").attr("transform","translate("+e/2+" ,"+(r+p)+")").attr("class","dark").style("text-anchor","middle").style("font-size","14").text("False Positive Rate"),c.append("text").attr("transform","rotate(-90)").attr("y",-h).attr("x",-(r/2)).attr("dy","0.5em").attr("class","dark").style("text-anchor","middle").style("font-size","14").text("True Positive Rate"),c.selectAll("scatter-dots").data(t).enter().append("svg:circle").attr("cx",function(t,a){return n(t[0])}).attr("cy",function(t){return s(t[1])}).attr("r",10).style("opacity",0).on("mouseover",function(t){var a=($(this),Math.pow(t[0],2)),e=Math.pow(1-t[1],2),r=Math.pow(a+e,.5);g.transition().duration(0).style("opacity",.9),g.html("<span> Cutoff = <br/>"+r.toString()+"</span>").style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(t){g.transition().duration(500).style("opacity",0)});var m=d3.svg.line().x(function(t){return n(t[0])}).y(function(t){return s(t[1])}).interpolate("linear");lineGraph=c.append("path").attr("d",m(t)).attr("stroke","orange").attr("stroke-width",2).attr("fill","none"),$(".axis path").addClass("dark"),$(".main text").css("fill","white"),$("line").css("stroke","white")}function changeTheme(t){var a="dark"===t?"light":"dark",e="dark"===t?"white":"black",r="dark"===t?"orange":"green";$("body").addClass(t).removeClass(a),$("circle").addClass(t).removeClass(a),$(".text").addClass(t).removeClass(a),$("line").css("stroke",e),lineGraph.attr("stroke",r),$(".axis path").addClass(t).removeClass(a),$(".main text").css("fill",e),$("#heading").css("color",e)}for(var e=json_data.series["Series 1"].points,data=[],lineGraph,i=0;i<e.length;i++)data.push([e[i].coordinates[0],e[i].coordinates[1],Math.abs(e[i].coordinates[0]-e[i].coordinates[1])]);visualize_roc_curve(data),$("#theme_selector").change(function(){var t=$("#theme_selector option:selected").val();changeTheme(t)});